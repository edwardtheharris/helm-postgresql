###
# ```{rubric} Secret Test Suite
# ```
# ---
# Test suite for Secret deployment.
#
# ```{literalinclude} /tests/secret_test.yaml
# :language: yaml
# :caption: tests/secret_test.yaml
# :start-at: "suite: 'PostgreSQL Secret Test Suite'\n"
# ```
suite: 'Secret Test Suite'
release:
  name: postgresql
templates:
- 'templates/secret.yaml' # Update this path to your actual template location
values:
- ../values.yaml
tests:
- it: 'should create postgresql Secret'
  asserts:
  - isKind:
      of: 'Secret'
  - equal:
      path: apiVersion
      value: 'v1'
  - equal:
      path: metadata
      value:
        name: 'postgresql'
        namespace: 'postgresql'
        labels:
          secret.kubernetes.io/name: 'postgresql'
          secret.kubernetes.io/instance: 'postgresql'
        annotations:
          app.kubernetes.io/name: 'postgresql'
  - equal:
      path: type
      value: 'Opaque'
